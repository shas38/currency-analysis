# currency-analysis
This project contains a full stack application for analysing currency based on historical data. The application reads the data from a <b>json</b> file and filters it based on the 'from date' and 'to date' interval as well as currencies selected by the user. The application then analyses the data to find the best possible buy price, buy time, sell price, sell time and the profit for each one of the selected currencies. 

The application uses the following technologies:
- Backend: NodeJs with an ExpressJs server
- Frontend: ReactJs 
- Type Checking: Typescript

<img src="images/currencyAnalyser.PNG">

## Getting Started

```bash
cd ./server
npm install
npm start
```

The server runs on port `5000`.

There are three routes:
```
- http://localhost:5000/                - homepage
- http://localhost:5000/api/currencies  - accepts GET requests for retrieving all the unique currencies
- http://localhost:5000/api/profits     - accepts POST requests with fromDate, toDate and a list of currencies as post data
                                          e.g. {fromDate: '20180507', fromDate: '20180507', currencySelected: ['BTC', 'ETC']}
```
## Project Structure

```
currency-analysis
|
|--server
|   |--src
|      |--routes
|      |  |--currencies.ts
|      |  |--index.ts
|      |  |--profits.ts
|      |--services
|      |  |--currencyAnalyser.ts
|      |  |--currencyDataFormatter.ts
|      |  |--profitAnalyser.ts
|      |--app.ts
|
|   |--test
|   |--coverage
|   |--test
|   |--data
|   |--public
|   |--dist
|--client
```

## Development

This project uses EditorConfig to standardize text editor configuration.
Visit http://editorconfig.org for details.

This project uses ESLint to detect suspicious code in JavaScript files.
Visit http://eslint.org for details.

### Testing

This project uses Mocha, Chai and supertest for testing.
Visit http://mochajs.org, http://chaijs.com and https://www.npmjs.com/package/supertest for details.

To execute tests:

```bash
npm test
```

Code coverage generated by http://istanbul.js.org

To calculate coverage:

```bash
npm run coverage
```

The coverage reports will be in the `coverage` folder

### Dev Server

To start `nodemon`:

```bash
npm run dev
```

## FAQ

- Q: Why didn't you store the time submitted?
  - A: I wanted to reduce the number of fields and simplify testing.
- Q: Wouldn't it be easier if the form submitted a datetime string instead of building and parsing one?
  - A: Yes, it would, but the form logic is simpler. Either way, someone has to do the work.
- Q: Why did you mix a callback and a Promise in `lib/reservations.js`?
  - A: `Joi` doesn't support Promises, but it does support callbacks. I wanted to show how to test both kinds of asynchronous code.
- Q: How'd you handle cross-platform support?
  - A: Avoided relative directories, used `cross-env` to transform environmental variables.

## Credits

Written by Shahriar Hasan Khan
Contact: shahriar27@hotmail.com

